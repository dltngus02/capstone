{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leesuhyeon\\\\Desktop\\\\2024 1\\uD559\\uAE30 \\uACFC\\uC81C\\\\\\uCEA1\\uB514\\\\\\uCEA1\\uB5142\\\\front\\\\src\\\\component\\\\page\\\\PayPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigation } from \"../Router/Router\";\nimport \"./css/PayPage.css\";\nimport Axios from \"axios\";\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PayPage = () => {\n  _s();\n  const clearCookie = name => {\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n  };\n  const [ttsEnabled, setTtsEnabled] = useState(false);\n  const location = useLocation();\n  const [price, setPrice] = useState();\n  const {\n    onClickStart,\n    onClickOwner,\n    onClickPay,\n    onClickDone,\n    onClickMain\n  } = useNavigation();\n  useEffect(() => {\n    clearCookie('products');\n    const queryParams = new URLSearchParams(location.search);\n    const amount = queryParams.get('amount');\n    setPrice(amount);\n    const jquery = document.createElement(\"script\");\n    jquery.src = \"http://code.jquery.com/jquery-1.12.4.min.js\";\n    const iamport = document.createElement(\"script\");\n    iamport.src = \"http://cdn.iamport.kr/js/iamport.payment-1.1.7.js\";\n    document.head.appendChild(jquery);\n    document.head.appendChild(iamport);\n    return () => {\n      document.head.removeChild(jquery);\n      document.head.removeChild(iamport);\n    };\n  }, []);\n  var quantity = Math.random() * 1000;\n  const Payment = () => {\n    const {\n      IMP\n    } = window;\n    IMP.init(\"imp41444282\");\n    var HOTNODDLE = \"NODDLE\" + quantity;\n    const data = {\n      pg: \"kakaopay\",\n      pay_method: \"card\",\n      amount: `${price}`,\n      name: \"무인가게 결제\",\n      merchant_uid: HOTNODDLE\n    };\n    IMP.request_pay(data, callback);\n  };\n  const Payment1 = () => {\n    const {\n      IMP\n    } = window;\n    IMP.init(\"imp47424221\");\n    var HOTNODDLE = \"NODDLE\" + quantity;\n    const data = {\n      pg: \"kcp\",\n      pay_method: \"card\",\n      amount: `${price}`,\n      name: \"무인가게 결제\",\n      merchant_uid: HOTNODDLE\n    };\n    IMP.request_pay(data, callback);\n  };\n  const callback = response => {\n    const {\n      sucess,\n      error_msg,\n      imp_uid,\n      merchant_uid,\n      pay_method,\n      paid_amount,\n      status\n    } = response;\n    if (sucess) {\n      alert(\"결제성공\");\n      onClickDone();\n    } else if (error_msg == undefined) {\n      alert(\"결제성공\");\n      onClickDone();\n    } else {\n      alert(`결제실패 : ${error_msg}`);\n    }\n  };\n  useEffect(() => {\n    const ttsState = sessionStorage.getItem(\"ttsEnabled\");\n    if (ttsState) {\n      setTtsEnabled(JSON.parse(ttsState));\n    }\n  }, []);\n  const handleMouseEnter = event => {\n    if (ttsEnabled) {\n      const tts_script = event.target.innerText;\n      const utterance = new SpeechSynthesisUtterance(tts_script); // SpeechSynthesisUtterance 객체 생성\n      window.speechSynthesis.speak(utterance); // TTS 실행\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper1\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Header1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goods1\",\n          children: \"1. \\uC0C1\\uD488\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pay1\",\n          children: \"2. \\uACB0\\uC81C \\uBC29\\uBC95\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"done1\",\n          children: \"3. \\uACB0\\uC81C \\uC644\\uB8CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"txt\",\n        children: \"\\uACB0\\uC81C \\uC218\\uB2E8\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selectCash\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cash\",\n          onClick: Payment,\n          onMouseEnter: handleMouseEnter,\n          children: \"\\uCE74\\uCE74\\uC624\\uD398\\uC774\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"card\",\n          onClick: Payment1,\n          onMouseEnter: handleMouseEnter,\n          children: \"NHN KCP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"returnStart\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonCall1\",\n          onClick: onClickMain,\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(PayPage, \"hC2V+14KpY60AJ757pYGL66YNi8=\", false, function () {\n  return [useLocation, useNavigation];\n});\n_c = PayPage;\nexport default PayPage;\nvar _c;\n$RefreshReg$(_c, \"PayPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigation","Axios","useLocation","jsxDEV","_jsxDEV","PayPage","_s","clearCookie","name","document","cookie","ttsEnabled","setTtsEnabled","location","price","setPrice","onClickStart","onClickOwner","onClickPay","onClickDone","onClickMain","queryParams","URLSearchParams","search","amount","get","jquery","createElement","src","iamport","head","appendChild","removeChild","quantity","Math","random","Payment","IMP","window","init","HOTNODDLE","data","pg","pay_method","merchant_uid","request_pay","callback","Payment1","response","sucess","error_msg","imp_uid","paid_amount","status","alert","undefined","ttsState","sessionStorage","getItem","JSON","parse","handleMouseEnter","event","tts_script","target","innerText","utterance","SpeechSynthesisUtterance","speechSynthesis","speak","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onMouseEnter","_c","$RefreshReg$"],"sources":["C:/Users/leesuhyeon/Desktop/2024 1학기 과제/캡디/캡디2/front/src/component/page/PayPage.jsx"],"sourcesContent":["import React, { useEffect,useState } from \"react\";\r\nimport { useNavigation } from \"../Router/Router\";\r\nimport \"./css/PayPage.css\";\r\nimport Axios from \"axios\";\r\nimport { useLocation } from 'react-router-dom';\r\nconst PayPage = () => {\r\n  const clearCookie = (name) => {\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\r\n  };\r\n  const [ttsEnabled, setTtsEnabled] = useState(false);\r\n  const location = useLocation();\r\n  const [price,setPrice] = useState();\r\n  const { onClickStart, onClickOwner, onClickPay, onClickDone, onClickMain } =\r\n    useNavigation();\r\n      useEffect(() => {\r\n        clearCookie('products')\r\n        const queryParams = new URLSearchParams(location.search);\r\n        const amount = queryParams.get('amount');\r\n        setPrice(amount)\r\n        const jquery = document.createElement(\"script\");\r\n        jquery.src = \"http://code.jquery.com/jquery-1.12.4.min.js\";\r\n        const iamport = document.createElement(\"script\");\r\n        iamport.src = \"http://cdn.iamport.kr/js/iamport.payment-1.1.7.js\";\r\n        document.head.appendChild(jquery);\r\n        document.head.appendChild(iamport);\r\n        return () => {\r\n          document.head.removeChild(jquery);\r\n          document.head.removeChild(iamport);\r\n        };\r\n      }, []);\r\n      \r\n      var quantity = Math.random() * 1000;\r\n      \r\n      const Payment = () => {\r\n        \r\n        const {IMP} = window;\r\n        IMP.init(\"imp41444282\");\r\n        var HOTNODDLE = \"NODDLE\"+quantity;\r\n        const data = {\r\n            pg: \"kakaopay\",\r\n            pay_method: \"card\",\r\n            amount: `${price}`,\r\n            name: \"무인가게 결제\",\r\n            merchant_uid: HOTNODDLE,\r\n        };\r\n        IMP.request_pay(data,callback);\r\n      }\r\n      const Payment1 = () => {\r\n        \r\n        const {IMP} = window;\r\n        IMP.init(\"imp47424221\");\r\n        var HOTNODDLE = \"NODDLE\"+quantity;\r\n        const data = {\r\n            pg: \"kcp\",\r\n            pay_method: \"card\",\r\n            amount: `${price}`,\r\n            name: \"무인가게 결제\",\r\n            merchant_uid: HOTNODDLE,\r\n        };\r\n        IMP.request_pay(data,callback);\r\n      }\r\n      const callback = (response) =>{\r\n        const {sucess,error_msg,imp_uid,merchant_uid,pay_method,paid_amount,status} = response\r\n        if(sucess){\r\n          alert(\"결제성공\");\r\n          onClickDone()\r\n        }\r\n        else if(error_msg==undefined){\r\n          alert(\"결제성공\");\r\n          onClickDone()       \r\n        }\r\n        else{\r\n          alert(`결제실패 : ${error_msg}`);\r\n        }\r\n      }\r\n      useEffect(() => {\r\n        const ttsState = sessionStorage.getItem(\"ttsEnabled\");\r\n        if (ttsState) {\r\n          setTtsEnabled(JSON.parse(ttsState));\r\n        }\r\n      }, []);\r\n      const handleMouseEnter = (event) => {\r\n        if (ttsEnabled) {\r\n          const tts_script = event.target.innerText;\r\n          const utterance = new SpeechSynthesisUtterance(tts_script); // SpeechSynthesisUtterance 객체 생성\r\n          window.speechSynthesis.speak(utterance); // TTS 실행\r\n        }\r\n      };\r\n  return (\r\n    <div className=\"wrapper1\">\r\n      <header>\r\n        <div className=\"Header1\">\r\n          <div className=\"goods1\">1. 상품확인</div>\r\n          <div className=\"pay1\">2. 결제 방법</div>\r\n          <div className=\"done1\">3. 결제 완료</div>\r\n        </div>\r\n      </header>\r\n      <div className=\"wrapper\">\r\n        <div className=\"txt\">결제 수단을 선택해주세요</div>\r\n        <div className=\"selectCash\">\r\n          <button className=\"cash\"  onClick={Payment} onMouseEnter={handleMouseEnter}>\r\n        카카오페이\r\n          </button>\r\n          <button className=\"card\" onClick={Payment1} onMouseEnter={handleMouseEnter}>\r\n  \r\n            NHN KCP\r\n          </button>\r\n\r\n        </div>     \r\n        <div className=\"returnStart\">   \r\n          <button className=\"buttonCall1\" onClick={onClickMain}>\r\n            처음으로\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PayPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}